{% extends "base.html.j2" %}
{% block head %}
<script src="{{ url_for('static', filename='player.js')}}" defer></script>
{% endblock head %}
{% block title %}
VibeVault - Home
{% endblock title %}
{% block body %}
    <div class="bg-gray-900">
        <div class="flex flex-col md:h-screen lg:py-0 justify-end">
            <div class="flex flex-row flex-grow bg-gray-800">
                <div class="flex flex-col bg-gray-900">
                <!--
                    Jag hinner / tänker inte läga så mycket tid på att göra profiler
                    <div class="flex flex-row justify-around bg-gray-800 m-2 mb-0 rounded p-5 flex-wrap">
                        <div class="basis-1/3">
                            <img class="rounded-full" src="https://files.forsum.se/default.png">
                        </div>
                        <div class="flex flex-col justify-evenly">
                            <p class="font-bold text-white">5 followers</p>
                            <p class="font-bold text-white">5 followers</p>
                        </div>
                    </div>
                -->
                    <div class="flex flex-col flex-grow bg-gray-800 m-2 mb-0 rounded p-5">
                        <div class="flex flex-row justify-around flex-wrap">
                            <div class="p-2 active:scale-90 cursor-pointer flex justify-center">
                                <a onclick="setHome()">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="auto" height="5vh" viewBox="0 0 30 30"> <path fill="#FFFFFF" d="M 15 2 A 1 1 0 0 0 14.300781 2.2851562 L 3.3925781 11.207031 A 1 1 0 0 0 3.3554688 11.236328 L 3.3183594 11.267578 L 3.3183594 11.269531 A 1 1 0 0 0 3 12 A 1 1 0 0 0 4 13 L 5 13 L 5 24 C 5 25.105 5.895 26 7 26 L 23 26 C 24.105 26 25 25.105 25 24 L 25 13 L 26 13 A 1 1 0 0 0 27 12 A 1 1 0 0 0 26.681641 11.267578 L 26.666016 11.255859 A 1 1 0 0 0 26.597656 11.199219 L 25 9.8925781 L 25 6 C 25 5.448 24.552 5 24 5 L 23 5 C 22.448 5 22 5.448 22 6 L 22 7.4394531 L 15.677734 2.2675781 A 1 1 0 0 0 15 2 z M 18 15 L 22 15 L 22 23 L 18 23 L 18 15 z"></path> </svg> 
                                </a>
                            </div>
                            {% if current_user.is_admin() %}
                            <div class="p-2 active:scale-90 cursor-pointer flex justify-center">
                                    <a href="{{ url_for('admin') }}">
                                        <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="auto" height="5vh" viewBox="0 0 1280.000000 1280.000000" preserveAspectRatio="xMidYMid meet"> <g transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)" fill="#FFFFFF" stroke="none"> <path d="M6030 12788 c-273 -25 -490 -52 -615 -76 l-140 -27 -3 -528 -2 -527 -139 -207 c-161 -241 -239 -340 -344 -440 -167 -158 -350 -253 -590 -305 -86 -18 -134 -22 -307 -22 -210 0 -260 5 -500 51 l-135 26 -365 363 c-201 200 -371 364 -377 364 -14 0 -232 -176 -394 -318 -142 -125 -404 -390 -530 -537 -47 -55 -141 -170 -208 -255 l-121 -154 348 -351 349 -350 36 -87 c86 -210 142 -437 153 -622 31 -524 -255 -921 -919 -1276 l-94 -50 -510 0 c-410 0 -513 -3 -521 -13 -23 -27 -51 -245 -92 -703 -13 -140 -13 -346 0 -488 5 -61 14 -187 20 -281 11 -168 44 -525 56 -597 l6 -38 495 0 495 0 103 -40 c438 -172 719 -433 835 -776 97 -286 87 -626 -30 -1074 l-30 -115 -357 -357 -357 -357 28 -40 c123 -177 416 -509 673 -761 233 -230 535 -490 569 -490 5 0 173 164 374 365 l365 365 100 12 c161 19 617 16 751 -5 524 -84 869 -339 1122 -833 l42 -81 0 -520 0 -521 28 -6 c88 -18 415 -58 582 -71 107 -8 245 -20 306 -25 140 -13 335 -13 461 0 54 5 179 17 278 26 99 9 241 26 315 38 l135 21 5 540 5 540 56 106 c260 495 648 745 1239 800 141 13 466 6 623 -14 l98 -13 397 -397 397 -397 145 116 c514 414 774 670 1059 1043 l72 95 -395 396 c-218 217 -396 398 -396 402 0 3 -18 95 -39 204 -55 281 -65 366 -65 559 0 186 15 291 61 418 116 324 352 558 784 779 l124 63 580 5 580 5 16 120 c60 441 89 951 70 1210 -32 423 -71 746 -93 772 -8 10 -130 13 -594 13 l-584 0 -133 68 c-399 204 -631 447 -736 770 -84 257 -86 561 -6 1032 l25 144 401 402 c302 302 400 406 395 419 -3 9 -33 56 -65 103 -194 283 -469 567 -809 837 -124 98 -389 294 -410 302 -8 3 -169 -149 -400 -379 l-387 -385 -83 -22 c-188 -50 -272 -62 -478 -68 -160 -4 -221 -2 -297 11 -142 24 -259 61 -382 121 -282 136 -503 353 -716 703 l-59 96 0 548 c0 301 -4 548 -8 548 -4 0 -109 11 -232 24 -124 14 -295 30 -380 36 -85 6 -199 15 -253 21 -115 11 -343 10 -477 -3z m708 -4183 c602 -86 1136 -386 1501 -844 213 -269 373 -599 446 -927 102 -454 63 -929 -111 -1368 -206 -515 -617 -959 -1117 -1204 -666 -327 -1420 -318 -2077 24 -692 361 -1152 1045 -1231 1829 -14 145 -7 407 16 555 145 931 833 1675 1753 1894 62 15 157 33 210 40 136 19 481 19 610 1z"/> </g> </svg> 
                                    </a>
                                </div>
                            {% endif %}
                            <div class="p-2 active:scale-90 cursor-pointer flex justify-center">
                                <a onclick="setSearch()">
                                    <svg xmlns="http://www.w3.org/2000/svg"  width="auto" height="5vh" viewBox="0 0 24 24"><path fill="#FFFFFF" d="M9.145 18.29c-5.042 0-9.145-4.102-9.145-9.145s4.103-9.145 9.145-9.145 9.145 4.103 9.145 9.145-4.102 9.145-9.145 9.145zm0-15.167c-3.321 0-6.022 2.702-6.022 6.022s2.702 6.022 6.022 6.022 6.023-2.702 6.023-6.022-2.702-6.022-6.023-6.022zm9.263 12.443c-.817 1.176-1.852 2.188-3.046 2.981l5.452 5.453 3.014-3.013-5.42-5.421z"/></svg>
                                </a>
                            </div>
                        </div>
                        <hr class="bg-gray-900">
                    </div>
                </div>
                <div id="content" class="flex-grow rounded p-4 overflow-y-scroll">

                </div>
            </div>
            <!-- audio player controls -->
            <audio id="audioPlayer" preload="none">
                <source id="audioSource" src="" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
            <div class="flex flex-row flex bg-gray-900 justify-between">
                <div class="fixed inset-x-0 bottom-0 bg-gray-900 text-white">
                    <div class="max-w-screen-xl mx-auto px-4 py-2">
                        <div class="flex items-center justify-between">
                            <!-- Left section: Song Information -->
                            <div class="flex items-center">
                                <img id="playing-img" class="w-12 h-12 mr-3" src="{{ url_for('static', filename='default/cover.jpg') }}">
                                <div>
                                    <h3 id="playing-title" class="text-lg font-semibold">Play a song!</h3>
                                    <p id="playing-artist">VibeVault</p>
                                </div>
                            </div>
                            <!-- Middle section: Playback Controls -->
                            <div class="flex-grow flex flex-col justify-center">
                                <div class="flex items-center justify-center">
                                    <button id="prev-button" class="mx-2">
                                        <img src="{{ url_for('static', filename='svg/prev.svg')}}" class="w-10 h-10 active:scale-90">
                                    </button>
                                    <button id="play-button" class="mx-2">
                                        <img id="playPauseIcon" src="{{ url_for('static', filename='svg/paused.svg') }}" class="w-8 h-8 active:scale-90">
                                    </button>
                                    <button id="next-button" class="mx-2">
                                        <img src="{{ url_for('static', filename='svg/skip.svg')}}" class="w-10 h-10 active:scale-90">
                                    </button>
                                </div>
                                <div id="progress-container" class="px-16 relative flex-1 cursor-pointer">
                                    <input type="range" placeholder="0" id="progress-bar" class="w-full h-2 bg-gray-800 rounded-lg appearance-none cursor-pointer" min="0" value="0">
                                </div>
                            </div>
                            <!-- Right section: Volume & Other Controls -->
                            <div class="flex flex-item flex-item-hide items-center">
                                <button class="mx-2">
                                    <img src="{{ url_for('static', filename='svg/volume.svg') }}" class="w-6 h-6">
                                </button>
                                <div class="w-32">
                                    <input id="volume" type="range" class="cursor-pointer">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock body %}

